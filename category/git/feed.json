{
    "version": "https://jsonfeed.org/version/1",
    "title": "止雨 • All posts by \"git\" category",
    "description": "我忘却了所有悲剧，所见皆是奇迹。",
    "home_page_url": "https://stoprain0.github.io.git",
    "items": [
        {
            "id": "https://stoprain0.github.io.git/2021/09/21/git/",
            "url": "https://stoprain0.github.io.git/2021/09/21/git/",
            "title": "git",
            "date_published": "2021-09-21T15:44:55.758Z",
            "content_html": "<h1 id=\"git-常用命令\"><a class=\"markdownIt-Anchor\" href=\"#git-常用命令\">#</a> Git 常用命令</h1>\n<ul>\n<li><strong>仓库</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 在当前目录新建一个 Git 代码库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> init</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 新建一个目录，将其初始化为 Git 代码库</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> init <span class=\"token punctuation\">[</span>project-name<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 下载一个项目和它的整个代码历史</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> clone <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><p><em><strong>例如：</strong></em><br>\n<img data-src=\"https://img-blog.csdnimg.cn/a67a4353d1354968b47cd343994a1bc5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATGluZ196aGl5dQ==,size_17,color_FFFFFF,t_70,g_se,x_16\" alt=\"在这里插入图片描述\"></p>\n<ul>\n<li><strong>配置</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 显示当前的 Git 配置</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> config --list</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 编辑 Git 配置文件</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> config -e <span class=\"token punctuation\">[</span>--global<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 设置提交代码时的用户信息</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> config <span class=\"token punctuation\">[</span>--global<span class=\"token punctuation\">]</span> user.name <span class=\"token string\">\"[name]\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>$ <span class=\"token function\">git</span> config <span class=\"token punctuation\">[</span>--global<span class=\"token punctuation\">]</span> user.email <span class=\"token string\">\"[email address]\"</span></pre></td></tr></table></figure><ul>\n<li><strong>增加 / 删除文件</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 添加指定文件到暂存区</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token punctuation\">[</span>file1<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>file2<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 添加指定目录到暂存区，包括子目录</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token punctuation\">[</span>dir<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 添加当前目录的所有文件到暂存区</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 添加每个变化前，都会要求确认</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># 对于同一个文件的多处变化，可以实现分次提交</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> -p</pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># 删除工作区文件，并且将这次删除放入暂存区</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">rm</span> <span class=\"token punctuation\">[</span>file1<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>file2<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\"># 停止追踪指定文件，但该文件会保留在工作区</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">rm</span> --cached <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># 改名文件，并且将这个改名放入暂存区</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">mv</span> <span class=\"token punctuation\">[</span>file-original<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>file-renamed<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><ul>\n<li><strong>代码提交</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 提交暂存区到仓库区</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> commit -m <span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 提交暂存区的指定文件到仓库区</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> commit <span class=\"token punctuation\">[</span>file1<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>file2<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>. -m <span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 提交工作区自上次 commit 之后的变化，直接到仓库区</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> commit -a</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 提交时显示所有 diff 信息</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> commit -v</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 使用一次新的 commit，替代上一次提交</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># 如果代码没有任何新变化，则用来改写上一次 commit 的提交信息</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>$ <span class=\"token function\">git</span> commit --amend -m <span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\"># 重做上一次 commit，并包括指定文件的新变化</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>$ <span class=\"token function\">git</span> commit --amend <span class=\"token punctuation\">[</span>file1<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>file2<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>.</pre></td></tr></table></figure><ul>\n<li><strong>分支</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 列出所有本地分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> branch</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 列出所有远程分支</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> branch -r</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 列出所有本地分支和远程分支</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> branch -a</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 新建一个分支，但依然停留在当前分支</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> branch <span class=\"token punctuation\">[</span>branch-name<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 新建一个分支，并切换到该分支</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> checkout -b <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 新建一个分支，指向指定 commit</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> branch <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 新建一个分支，与指定的远程分支建立追踪关系</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> branch --track <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>remote-branch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 切换到指定分支，并更新工作区</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> checkout <span class=\"token punctuation\">[</span>branch-name<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\"># 切换到上一个分支</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>$ <span class=\"token function\">git</span> checkout -</pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\"># 建立追踪关系，在现有分支与指定的远程分支之间</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>$ <span class=\"token function\">git</span> branch --set-upstream <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>remote-branch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\"># 合并指定分支到当前分支</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>$ <span class=\"token function\">git</span> merge <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\"># 选择一个 commit，合并进当前分支</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>$ <span class=\"token function\">git</span> cherry-pick <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\"># 删除分支</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>$ <span class=\"token function\">git</span> branch -d <span class=\"token punctuation\">[</span>branch-name<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token comment\"># 删除远程分支</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>$ <span class=\"token function\">git</span> push origin --delete <span class=\"token punctuation\">[</span>branch-name<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>$ <span class=\"token function\">git</span> branch -dr <span class=\"token punctuation\">[</span>remote/branch<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><ul>\n<li><strong>标签</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 列出所有 tag</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> tag</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 新建一个 tag 在当前 commit</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> tag <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 新建一个 tag 在指定 commit</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> tag <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 删除本地 tag</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> tag -d <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 删除远程 tag</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> push origin :refs/tags/<span class=\"token punctuation\">[</span>tagName<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 查看 tag 信息</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> show <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 提交指定 tag</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> push <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 提交所有 tag</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> push <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span> --tags</pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\"># 新建一个分支，指向某个 tag</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>$ <span class=\"token function\">git</span> checkout -b <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><ul>\n<li><strong>查看信息</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 显示有变更的文件</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> status</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 显示当前分支的版本历史</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> log</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 显示 commit 历史，以及每次 commit 发生变更的文件</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> log --stat</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 搜索提交历史，根据关键词</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> log -S <span class=\"token punctuation\">[</span>keyword<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 显示某个 commit 之后的所有变动，每个 commit 占据一行</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> log <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span> HEAD --pretty<span class=\"token operator\">=</span>format:%s</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 显示某个 commit 之后的所有变动，其 \"提交说明\" 必须符合搜索条件</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> log <span class=\"token punctuation\">[</span>tag<span class=\"token punctuation\">]</span> HEAD --grep feature</pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 显示某个文件的版本历史，包括文件改名</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> log --follow <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>$ <span class=\"token function\">git</span> whatchanged <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\"># 显示指定文件相关的每一次 diff</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>$ <span class=\"token function\">git</span> log -p <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\"># 显示过去 5 次提交</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>$ <span class=\"token function\">git</span> log -5 --pretty --oneline</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\"># 显示所有提交过的用户，按提交次数排序</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>$ <span class=\"token function\">git</span> shortlog -sn</pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\"># 显示指定文件是什么人在什么时间修改过</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>$ <span class=\"token function\">git</span> blame <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\"># 显示暂存区和工作区的差异</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token comment\"># 显示暂存区和上一个 commit 的差异</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span> --cached <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token comment\"># 显示工作区与当前分支最新 commit 之间的差异</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span> HEAD</pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token comment\"># 显示两次提交之间的差异</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span> <span class=\"token punctuation\">[</span>first-branch<span class=\"token punctuation\">]</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">[</span>second-branch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token comment\"># 显示今天你写了多少行代码</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span> --shortstat <span class=\"token string\">\"@&#123;0 day ago&#125;\"</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token comment\"># 显示某次提交的元数据和内容变化</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>$ <span class=\"token function\">git</span> show <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token comment\"># 显示某次提交发生变化的文件</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>$ <span class=\"token function\">git</span> show --name-only <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token comment\"># 显示某次提交时，某个文件的内容</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>$ <span class=\"token function\">git</span> show <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>filename<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre><span class=\"token comment\"># 显示当前分支的最近几次提交</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>$ <span class=\"token function\">git</span> reflog</pre></td></tr></table></figure><ul>\n<li><strong>远程同步</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 下载远程仓库的所有变动</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> fetch <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 显示所有远程仓库</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> remote -v</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 显示某个远程仓库的信息</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> remote show <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 增加一个新的远程仓库，并命名</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> <span class=\"token punctuation\">[</span>shortname<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 取回远程仓库的变化，并与本地分支合并</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> pull <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 上传本地指定分支到远程仓库</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> push <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>branch<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 强行推送当前分支到远程仓库，即使有冲突</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> push <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span> --force</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 推送所有分支到远程仓库</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> push <span class=\"token punctuation\">[</span>remote<span class=\"token punctuation\">]</span> --all</pre></td></tr></table></figure><ul>\n<li><strong>撤销</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 恢复暂存区的指定文件到工作区</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> checkout <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 恢复某个 commit 的指定文件到暂存区和工作区</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> checkout <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 恢复暂存区的所有文件到工作区</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> checkout <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 重置暂存区的指定文件，与上一次 commit 保持一致，但工作区不变</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> reset <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 重置暂存区与工作区，与上一次 commit 保持一致</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> reset --hard</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 重置当前分支的指针为指定 commit，同时重置暂存区，但工作区不变</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> reset <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 重置当前分支的 HEAD 为指定 commit，同时重置暂存区和工作区，与指定 commit 一致</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> reset --hard <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 重置当前 HEAD 为指定 commit，但保持暂存区和工作区不变</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> reset --keep <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\"># 新建一个 commit，用来撤销指定 commit</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\"># 后者的所有变化都将被前者抵消，并且应用到当前分支</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>$ <span class=\"token function\">git</span> revert <span class=\"token punctuation\">[</span>commit<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>暂时将未提交的变化移除，稍后再移入</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>$ <span class=\"token function\">git</span> stash</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>$ <span class=\"token function\">git</span> stash pop</pre></td></tr></table></figure><ul>\n<li><strong>其他</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 生成一个可供发布的压缩包</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> archive</pre></td></tr></table></figure><p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vYWxsLWFib3V0LWdpdA==\">引用 gitee 官方文档自</span></p>\n",
            "tags": [
                "git学习",
                "git命令语句"
            ]
        }
    ]
}